{"version":3,"sources":["context/StateProvider.js","components/Navbar.js","utils/setAuthToken.js","context/actions.js","components/TodoForm.js","components/TodoItem.js","components/Home.js","components/Register.js","components/Login.js","App.js","context/reducer.js","index.js"],"names":["UserContext","createContext","UserStateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","NavbarComponent","state","dispatch","authenticated","user","Navbar","collapseOnSelect","expand","bg","variant","to","Brand","className","name","Toggle","aria-controls","Collapse","id","Nav","Button","onClick","type","setAuthToken","token","axios","defaults","headers","common","register","formData","a","config","post","res","localStorage","setItem","data","payload","console","log","response","msg","login","loadUser","get","addTodo","loadTodos","err","deleteTodo","delete","updateTodo","put","TodoForm","useState","text","setText","important","setImportance","Form","onSubmit","e","preventDefault","Group","Control","required","onChange","target","placeholder","controlId","Check","checked","label","TodoItem","todo","editing","setEditing","setImportant","completed","setCompleted","checkBoxhandler","disabled","size","_id","Home","history","todos","useEffect","push","Container","TransitionGroup","map","CSSTransition","classNames","timeout","Register","error","email","setEmial","setName","password","setPassword","password2","setPassword2","setError","Alert","onClose","dismissible","Heading","Label","Text","Login","App","exact","path","component","action","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.af7492d2.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport const UserStateProvider = ({ reducer, initialState, children }) => (\r\n  <UserContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </UserContext.Provider>\r\n);\r\nexport const useStateValue = () => useContext(UserContext);","import React from \"react\";\r\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStateValue } from \"../context/StateProvider\";\r\n\r\nconst NavbarComponent = () => {\r\n  const [state, dispatch] = useStateValue();\r\n  const { authenticated, user } = state;\r\n\r\n  return (\r\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n      <Link to=\"/\">\r\n        <Navbar.Brand className=\"text-capitalize\">\r\n          {user?.name ? user.name + \"'s\" : \"My\"} todo List\r\n        </Navbar.Brand>\r\n      </Link>\r\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n        <Nav className=\"ml-auto\">\r\n          {!authenticated && (\r\n            <>\r\n              <Link className=\"ml-auto \" to=\"/login\">\r\n                <Button className=\"mr-md-3 mt-2 mt-sm-0\">Login</Button>\r\n              </Link>\r\n              <Link className=\"ml-auto mt-2 mt-sm-0\" to=\"/register\">\r\n                <Button>Register</Button>\r\n              </Link>\r\n            </>\r\n          )}\r\n          {authenticated && (\r\n            <Link className=\"ml-auto mt-2 mt-sm-0\" to=\"/login\">\r\n              <Button\r\n                variant=\"danger\"\r\n                onClick={() => {\r\n                  dispatch({ type: \"LOGOUT\" });\r\n                }}\r\n              >\r\n                Logout\r\n              </Button>\r\n            </Link>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default NavbarComponent;","import axios from \"axios\";\r\n\r\nconst setAuthToken = (token) => {\r\n  if (token) {\r\n    axios.defaults.headers.common[\"x-auth-token\"] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common[\"x-auth-token\"];\r\n  }\r\n};\r\n\r\nexport default setAuthToken;","import axios from \"axios\";\r\n\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\nexport const register = async (dispatch, formData) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  try {\r\n    const res = await axios.post(\"/api/users\", formData, config);\r\n    localStorage.setItem(\"token\", res.data.token);\r\n    dispatch({\r\n      type: \"REGISTER\",\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch({\r\n      type: \"REGISTER_FAIL\",\r\n      payload: err.response.data.msg,\r\n    });\r\n  }\r\n};\r\n\r\nexport const login = async (dispatch, formData) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  try {\r\n    const res = await axios.post(\"/api/auth\", formData, config);\r\n    localStorage.setItem(\"token\", res.data.token);\r\n    dispatch({\r\n      type: \"REGISTER\",\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch({\r\n      type: \"REGISTER_FAIL\",\r\n      payload: err.response.data.msg,\r\n    });\r\n  }\r\n};\r\n\r\nexport const loadUser = async (dispatch) => {\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token);\r\n  }\r\n  try {\r\n    const res = await axios.get(\"/api/auth\");\r\n    dispatch({ type: \"LOAD_USER\", payload: res.data });\r\n  } catch (err) {\r\n    dispatch({ type: \"LOGIN_FAIL\", payload: err.response.data.msg });\r\n  }\r\n};\r\n\r\nexport const addTodo = async (dispatch, formData) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  try {\r\n    axios.post(\"/api/todos\", formData, config);\r\n    loadTodos(dispatch);\r\n  } catch (err) {\r\n    console.log(err.response.data.msg);\r\n  }\r\n};\r\n\r\nexport const loadTodos = async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/todos\");\r\n    dispatch({ type: \"LOAD_TODOS\", payload: res.data });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const deleteTodo = async (dispatch, id) => {\r\n  try {\r\n    await axios.delete(`/api/todos/${id}`);\r\n    loadTodos(dispatch);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nexport const updateTodo = async (dispatch, id, formData) => {\r\n  try {\r\n    await axios.put(`/api/todos/${id}`, formData);\r\n    loadTodos(dispatch);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};","import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { addTodo } from \"../context/actions\";\r\nimport { useStateValue } from \"../context/StateProvider\";\r\n\r\nconst TodoForm = () => {\r\n  const [, dispatch] = useStateValue();\r\n\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const [important, setImportance] = useState(false);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    addTodo(dispatch, { text, important });\r\n    setText(\"\");\r\n    setImportance(false);\r\n  };\r\n  return (\r\n    <Form\r\n      onSubmit={submitHandler}\r\n      className=\"bg-secondary rounded p-3 p-sm-0  mt-3 d-flex align-items-center justify-content-center flex-sm-row flex-column mb-5\"\r\n    >\r\n      <Form.Group>\r\n        <Form.Control\r\n          required\r\n          type=\"text\"\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n          placeholder=\"New todo\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group controlId=\"formBasicCheckbox\">\r\n        <Form.Check\r\n          type=\"checkbox\"\r\n          checked={important}\r\n          onChange={() => setImportance(!important)}\r\n          className=\"m-sm-5\"\r\n          label=\"Urgent\"\r\n        />\r\n      </Form.Group>\r\n      <Button variant=\"success\" type=\"submit\">\r\n        Submit\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default TodoForm;","import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { deleteTodo, updateTodo } from \"../context/actions\";\r\nimport { useStateValue } from \"../context/StateProvider\";\r\n\r\nconst TodoItem = ({ todo }) => {\r\n  const [, dispatch] = useStateValue();\r\n  const [editing, setEditing] = useState(false);\r\n  const [important, setImportant] = useState(todo.important);\r\n  const [completed, setCompleted] = useState(todo.completed);\r\n  const [text, setText] = useState(todo.text);\r\n\r\n  const onClickHandler = () => {\r\n    setEditing(!editing);\r\n    setImportant(todo.important);\r\n    setCompleted(todo.completed);\r\n    setText(todo.text);\r\n  };\r\n  const checkBoxhandler = (e) => {\r\n    if (e.target.name === \"important\") {\r\n      setImportant(!important);\r\n    } else {\r\n      setCompleted(!completed);\r\n    }\r\n  };\r\n\r\n  const updateDeleteHandler = () => {\r\n    if (editing) {\r\n      updateTodo(dispatch, todo._id, { text, important, completed });\r\n      setEditing(false);\r\n    } else {\r\n      deleteTodo(dispatch, todo._id);\r\n    }\r\n  };\r\n  const onChangeHandler = (e) => {\r\n    setText(e.target.value);\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n  };\r\n  return (\r\n    <div className=\"todo-item mb-4 bg-dark rounded p-2 pr-md-5 pl-md-5 text-light\">\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Control\r\n            /* className=\"bg-info text-light text-uppercase font-weight-bold\" */\r\n            variant=\"primary\"\r\n            className={`bg-${\r\n              completed ? \"secondary\" : important ? \"danger\" : \"info\"\r\n            }   text-light text-uppercase font-weight-bold`}\r\n            disabled={!editing}\r\n            value={text}\r\n            onChange={onChangeHandler}\r\n            type=\"text\"\r\n          />\r\n        </Form.Group>\r\n        <div className=\"d-flex justify-content-between font-weight-bold flex-wrap\">\r\n          <Form.Check\r\n            onChange={checkBoxhandler}\r\n            name=\"important\"\r\n            checked={important}\r\n            type=\"checkbox\"\r\n            label=\"Urgent\"\r\n            disabled={!editing}\r\n          />\r\n\r\n          <Form.Check\r\n            onChange={checkBoxhandler}\r\n            checked={completed}\r\n            type=\"checkbox\"\r\n            disabled={!editing}\r\n            name=\"completed\"\r\n            label=\"Completed\"\r\n          />\r\n\r\n          <Button\r\n            variant={editing ? \"warning\" : \"danger\"}\r\n            type=\"submit\"\r\n            size=\"sm\"\r\n            onClick={updateDeleteHandler}\r\n          >\r\n            {editing ? \"Update\" : \"Delete\"}\r\n          </Button>\r\n          <Button onClick={onClickHandler} size=\"sm\" variant=\"primary\">\r\n            {editing ? \"Cancel\" : \"Edit\"}\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoItem;","import React, { useEffect } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { loadTodos, loadUser } from \"../context/actions\";\r\nimport { useStateValue } from \"../context/StateProvider\";\r\nimport TodoForm from \"./TodoForm\";\r\nimport TodoItem from \"./TodoItem\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\n\r\nconst Home = ({ history }) => {\r\n  const [state, dispatch] = useStateValue();\r\n  const { authenticated, todos } = state;\r\n\r\n  useEffect(() => {\r\n    if (localStorage.token) {\r\n      loadUser(dispatch);\r\n    }\r\n    if (!authenticated) {\r\n      history.push(\"/login\");\r\n    }\r\n    loadTodos(dispatch);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  return (\r\n    <Container className=\" d-flex justify-content-center flex-column\">\r\n      <TodoForm></TodoForm>\r\n      <TransitionGroup className=\"todo-list\">\r\n        {todos.map((todo) => (\r\n          <CSSTransition key={todo._id} classNames=\"item\" timeout={500}>\r\n            <TodoItem todo={todo}></TodoItem>\r\n          </CSSTransition>\r\n        ))}\r\n      </TransitionGroup>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Home;","import React, { useState, useEffect } from \"react\";\r\nimport { Form, Button, Container, Alert } from \"react-bootstrap\";\r\nimport { loadUser, register } from \"../context/actions\";\r\nimport { useStateValue } from \"../context/StateProvider\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Register = () => {\r\n  const [state, dispatch] = useStateValue();\r\n  const { error, token, authenticated } = state;\r\n\r\n  const [email, setEmial] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [password2, setPassword2] = useState(\"\");\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== password2) {\r\n      dispatch({\r\n        type: \"SET_ERROR\",\r\n        payload: \"Passwords do not match!\",\r\n      });\r\n    } else {\r\n      register(dispatch, { email, password, name });\r\n\r\n      dispatch({\r\n        type: \"CLEAR_ERROR\",\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    setError();\r\n    if (token) {\r\n      loadUser(dispatch);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [token, dispatch]);\r\n\r\n  const setError = () => {\r\n    dispatch({\r\n      type: \"CLEAR_ERROR\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h3 className=\"text-center\">Register</h3>\r\n      {authenticated && <Redirect to={\"/\"} />}\r\n\r\n      {error && (\r\n        <Alert variant=\"danger\" onClose={() => setError()} dismissible>\r\n          <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\r\n          <p>{error}</p>\r\n        </Alert>\r\n      )}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group>\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            onChange={(e) => setEmial(e.target.value)}\r\n            value={email}\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n          />\r\n          <Form.Text className=\"text-muted\">\r\n            We'll never share your email with anyone else.\r\n          </Form.Text>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword2\">\r\n          <Form.Label>Confirm password</Form.Label>\r\n          <Form.Control\r\n            value={password2}\r\n            onChange={(e) => setPassword2(e.target.value)}\r\n            type=\"password\"\r\n            placeholder=\"Confirm password\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Register;","import React, { useState, useEffect } from \"react\";\r\nimport { Form, Button, Container, Alert } from \"react-bootstrap\";\r\nimport { loadUser, login } from \"../context/actions\";\r\nimport { useStateValue } from \"../context/StateProvider\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  const [state, dispatch] = useStateValue();\r\n  const { error, token, authenticated } = state;\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmial] = useState(\"\");\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (email && password) {\r\n      login(dispatch, { email, password });\r\n    } else {\r\n      dispatch({\r\n        type: \"SET_ERROR\",\r\n        payload: \"Both email and password are required!\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const setError = () => {\r\n    dispatch({\r\n      type: \"CLEAR_ERROR\",\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    setError();\r\n    if (token) {\r\n      loadUser(dispatch);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [token, dispatch]);\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h3 className=\"text-center\">Login</h3>\r\n      {authenticated && <Redirect to={\"/\"} />}\r\n\r\n      {error && (\r\n        <Alert variant=\"danger\" onClose={() => setError()} dismissible>\r\n          <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\r\n          <p>{error}</p>\r\n        </Alert>\r\n      )}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            onChange={(e) => setEmial(e.target.value)}\r\n            value={email}\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Navbar from \"./components/Navbar\";\r\nimport Home from \"./components/Home\";\r\nimport Register from \"./components/Register\";\r\nimport Login from \"./components/Login\";\r\n\r\nimport setAuthToken from \"./utils/setAuthToken\";\r\n\r\n//import styling\r\nimport \"./App.css\";\r\n\r\nif (localStorage.token) {\r\n  setAuthToken(localStorage.token);\r\n}\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router>\r\n      <Navbar />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}","export const initialState = {\r\n  token: null,\r\n  error: null,\r\n  authenticated: false,\r\n  user: {},\r\n  todos: [],\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"REGISTER\":\r\n      return {\r\n        ...state,\r\n        token: action.payload,\r\n      };\r\n    case \"LOAD_USER\":\r\n      return {\r\n        ...state,\r\n        user: { ...action.payload },\r\n        token: null,\r\n        authenticated: true,\r\n      };\r\n    case \"REGISTER_FAIL\":\r\n      localStorage.removeItem(\"token\");\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        error: action.payload,\r\n      };\r\n    case \"SET_ERROR\":\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        user: null,\r\n        error: action.payload,\r\n      };\r\n    case \"CLEAR_ERROR\":\r\n      return {\r\n        ...state,\r\n        error: null,\r\n      };\r\n    case \"LOGOUT\":\r\n      localStorage.removeItem(\"token\");\r\n      return {\r\n        ...state,\r\n        authenticated: null,\r\n      };\r\n\r\n    case \"LOGIN_FAIL\":\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n        user: null,\r\n        token: null,\r\n        authenticated: false,\r\n      };\r\n    case \"LOAD_TODOS\":\r\n      return {\r\n        ...state,\r\n        todos: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;","import \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nimport { UserStateProvider } from \"./context/StateProvider\";\r\nimport reducer, { initialState } from \"./context/reducer\";\r\n\r\nReactDOM.render(\r\n  <UserStateProvider initialState={initialState} reducer={reducer}>\r\n    <App />\r\n  </UserStateProvider>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}